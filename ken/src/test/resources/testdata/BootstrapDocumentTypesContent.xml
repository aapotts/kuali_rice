<?xml version="1.0" encoding="UTF-8"?>
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<!-- CHANGES TO THIS FILE WILL ONLY TAKE EFFECT IF YOU RUN THE "reinit-unit-test-db" ANT TASK AND THEN THE NEXT TIME YOU RUN THE TESTS -->
<!-- THIS DATA WILL GET LOADED AS A BOOTSTRAP DATA BY THE SETUP IN THE NotificationTestCaseBase CLASS -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
<data xmlns="ns:workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="ns:workflow resource:WorkflowData">
	<ruleAttributes xmlns="ns:workflow/RuleAttribute" xsi:schemaLocation="ns:workflow/RuleAttribute resource:RuleAttribute">
    <ruleAttribute>
      <name>RuleRoutingAttribute</name>
      <className>edu.iu.uis.eden.routetemplate.RuleRoutingAttribute</className>
      <label>foo</label>
      <description>foo</description>
      <type>RuleAttribute</type>
    </ruleAttribute>
  </ruleAttributes>
    
	<!-- "bootstrap" doc types to be loaded upon initial startup -->
	<documentTypes xmlns="ns:workflow/DocumentType" xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
		<documentType>
			<name>EDENSERVICE-DOCS</name>
			<description>Workflow Maintenance Document</description>
			<label>Workflow Maintenance Document</label>
			<postProcessorName>none</postProcessorName>
      		<docHandler>docHandler is now mandatory...</docHandler>
			<superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
			<blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
			<active>true</active>
			<policies>
				<policy>
					<name>PRE_APPROVE</name>
					<value>false</value>
					<!-- <inherited>false</inherited> -->
				</policy>
				<policy>
					<name>DEFAULT_APPROVE</name>
					<value>true</value>
					<!-- <inherited>false</inherited> -->
				</policy>
			</policies>
			<routePaths>
				<routePath>
					<start name="adhoc" nextNode="exception" />
					<requests name="exception" nextNode="Workflow Document Routing" />
					<requests name="Workflow Document Routing" />
				</routePath>
			</routePaths>
			<routeNodes>
				<start name="adhoc">
					<exceptionWorkgroup>WorkflowAdmin</exceptionWorkgroup>
					<activationType>S</activationType>
				</start>
				<requests name="exception">
          <exceptionWorkgroup>WorkflowAdmin</exceptionWorkgroup>
          <activationType>S</activationType>
					<ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
				</requests>
				<requests name="Workflow Document Routing">
					<exceptionWorkgroup>WorkflowAdmin</exceptionWorkgroup>
					<activationType>S</activationType>
					<ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
					<mandatoryRoute>true</mandatoryRoute>
				</requests>
			</routeNodes>
		</documentType>
		<documentType>
			<name>EDENSERVICE-DOCS.DocumentType</name>
			<parent>EDENSERVICE-DOCS</parent>
			<description>Workflow Maintenance Document Type Document</description>
			<label>Workflow Maintenance Document Type Document</label>
			<postProcessorName>edu.iu.uis.eden.doctype.DocumentTypePostProcessor</postProcessorName>
			<superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
			<blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
			<docHandler>${kew.basewebappurl}/DocumentType.do?methodToCall=docHandler</docHandler>
			<active>true</active>
			<policies />
			<routePaths>
				<routePath>
					<start name="placeholder" />
				</routePath>
			</routePaths>
			<routeNodes>
				<start name="placeholder">
					<exceptionWorkgroup>WorkflowAdmin</exceptionWorkgroup>
					<activationType>S</activationType>
				</start>
			</routeNodes>
		</documentType>
		<documentType>
			<name>EDENSERVICE-DOCS.RuleDocument</name>
			<parent>EDENSERVICE-DOCS</parent>
			<description>Rule Maintenance Document Type Document</description>
			<label>Rule Maintenance Document Type Document</label>
			<postProcessorName>edu.iu.uis.eden.routetemplate.RulePostProcessor</postProcessorName>
			<superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
			<blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
			<docHandler>${kew.basewebappurl}/Rule.do?methodToCall=docHandler</docHandler>
			<active>true</active>
			<policies />
			<routePaths>
				<routePath>
					<start name="placeholder" />
				</routePath>
			</routePaths>
			<routeNodes>
				<start name="placeholder">
					<exceptionWorkgroup>WorkflowAdmin</exceptionWorkgroup>
					<activationType>S</activationType>
				</start>
			</routeNodes>
		</documentType>
	    <documentType>
	      <name>EDENSERVICE-DOCS.WKGRPREQ</name>
	      <parent>EDENSERVICE-DOCS</parent>
	      <description>Document to generate a new workgroup</description>
	      <label>Add/modify EDEN workgroup</label>
	      <postProcessorName>edu.iu.uis.eden.workgroup.WorkgroupPostProcessor</postProcessorName>
	      <superUserWorkgroupName>WorkflowAdmin</superUserWorkgroupName>
	      <blanketApproveWorkgroupName>WorkflowAdmin</blanketApproveWorkgroupName>
	      <defaultExceptionWorkgroupName>WorkflowAdmin</defaultExceptionWorkgroupName>
	      <docHandler>${kew.basewebappurl}/Workgroup.do?methodToCall=docHandler</docHandler>
	      <active>true</active>
	      <routingVersion>1</routingVersion>
	      <routePaths>
	        <routePath>
	          <start name="Adhoc Routing" nextNode="Workgroup Approvers" />
	          <requests name="Workgroup Approvers" />
	        </routePath>
	      </routePaths>
	      <routeNodes>
	        <start name="Adhoc Routing">
	          <activationType>P</activationType>
	          <mandatoryRoute>false</mandatoryRoute>
	          <finalApproval>false</finalApproval>
	        </start>
	        <requests name="Workgroup Approvers">
	          <activationType>P</activationType>
	          <ruleTemplate>WorkflowDocumentTemplate</ruleTemplate>
	          <mandatoryRoute>true</mandatoryRoute>
	          <finalApproval>false</finalApproval>
	        </requests>
	      </routeNodes>
	    </documentType>
	</documentTypes>
</data>