<?xml version="1.0" encoding="UTF-8"?>
<!--

    Copyright 2005-2012 The Kuali Foundation

    Licensed under the Educational Community License, Version 2.0 (the "License");
    you may not use this file except in compliance with the License.
    You may obtain a copy of the License at

    http://www.opensource.org/licenses/ecl2.php

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0">
    <info>
        <title>Kuali Rice ${project.version} Release Notes</title>
        <edition>${project.version}</edition>
        <pubdate>Released: ${docbook.build.timestamp}</pubdate>
    </info>
    <section xml:id="overview" xreflabel="Overview">
        <title>Overview</title>
        <para>Welcome to Rice ${project.version}! </para>
        <section>
            <title>Release Highlights</title>
            <itemizedlist>
                <title>Highlights of this release include:</title>
                <listitem>
                    <simpara>Addition of maven archetype for simpler project creation. See the <link
                            xlink:href="IG.html">Installation Guide</link> for more information on
                        how to use.</simpara>
                </listitem>
                <listitem>
                    <simpara>Application Document Status functionality was enhanced to provide
                        better document search integration.</simpara>
                </listitem>
                <listitem>
                    <simpara>Numerous bug fixes. See below for details.</simpara>
                </listitem>
                <listitem>
                    <simpara>Documentation updates</simpara>
                </listitem>
            </itemizedlist>
        </section>
        <section>
            <title>Download</title>
            <para>Kuali Rice ${project.version} can be downloaded from the Rice website at <link xlink:show="new" xlink:href="http://kuali.org/rice/download">http://kuali.org/rice/download</link>.</para>
            <para>There are three different distributions of Rice available: source, binary and
                server. Please read the <link xlink:href="IG.html">Installation Guide</link> for
                more details on each of these distributions.</para>
            <para>Applications can also consume Rice from the maven site at <link
                    xlink:href="http://search.maven.org/#search|ga|1|org.kuali.rice"
                    >http://search.maven.org/#search|ga|1|org.kuali.rice</link>.</para>
        </section>
        <section>
            <title>Documentation</title>
            <para>API Documentation can be found at <link xlink:show="new" xlink:href="http://site.kuali.org/rice/${project.version}/apidocs/index.html">http://site.kuali.org/rice/${project.version}/apidocs/index.html</link></para>
            <para>Formal documentation can be found at <link xlink:show="new"
                    xlink:href="http://site.kuali.org/rice/${project.version}/reference/html/portal.html"
                    >http://site.kuali.org/rice/${project.version}/reference/html/portal.html</link>.
                This documentation is still in the process of review and update  which will continue
                through subsequent releases, so please follow the notes in each document to report
                any outdated information.</para>
        </section>
        <section>
            <title>Contact</title>
            <para>If you encounter any difficulty, please don't hesitate to contact the Rice team on
                our public collaboration mailing list at <email>rice.collab@kuali.org</email>.
                Please indicate that you are using the ${project.version} version of Rice.</para>
        </section>
    </section>
    <section xml:id="upgrade-guide" xreflabel="Upgrade Guide">
        <title>Upgrade Guide: Rice 2.1.0 to Rice ${project.version}</title>
        <caution><para>We recommend backing up your database before performing any upgrade!</para></caution>
        <section>
            <title>Upgrading the server database</title>
            <para>MySQL and Oracle scripts for performing these updates are available in the
                following locations in the Rice distribution downloads:<variablelist>
                    <varlistentry>
                        <term>MySQL</term>
                        <listitem>
                            <para><code>scripts/upgrades/2.1.0 to
                                    2.1.2/final/update_final_mysql.sql</code></para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term>Oracle</term>
                        <listitem>
                            <para><code>scripts/upgrades/2.1.0 to
                                    2.1.2/final/update_final_oracle.sql</code></para>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
        <section>
            <title>Client Database Upgrade</title>
            <para>There was a  MySQL-specific issue that affected a client table, therefore you only
                need to run a client upgrade script for MySQL.<variablelist>
                    <varlistentry>
                        <term>MySQL</term>
                        <listitem>
                            <para><code>scripts/upgrades/2.1.0 to
                                    2.1.2/final/update_client_final_mysql.sql</code></para>
                        </listitem>
                    </varlistentry>
                </variablelist></para>
        </section>
    </section>
    <section xml:id="items_addressed_in_rice">
        <title>Items Addressed in Rice ${project.version}</title>
<section><title>        Bug Fix
</title>
<para>TODO</para>
</section>                                                                                        
<section><title>        Improvement
</title>
    <para>TODO</para>
</section>                                                                                                                        
<section><title>        Task
</title>
    <para>TODO</para>
</section>                                                                                                                                                                                                                       
    </section>
    <section>
        <title>Library Changes</title>
        <para>
            <itemizedlist>
                <listitem>
                    <para>Apache CXF has been upgraded from 2.3.8 to 2.7.0, this includes changes to
                        wss4j and xmlschema libraries - <emphasis role="bold">Note, there are
                            impacting dependency changes here! Details below:</emphasis>
                        <itemizedlist>
                            <listitem>
                                <para>wss4j-1.5.12.jar -&gt; wss4j-1.6.7.jar</para>
                            </listitem>
                            <listitem>
                                <para>XmlSchema-1.4.7.jar -&gt; <emphasis role="bold"
                                        >xmlschema-core-2.0.3.jar</emphasis></para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">ADDED</emphasis> -&gt;
                                    javax.ws.rs-api-2.0-m10.jar</para>
                            </listitem>
                            <listitem>
                                <para>jaxb-impl-2.1.13.jar -&gt; jaxb-impl-2.2.6.jar</para>
                            </listitem>
                            <listitem>
                                <para>jettison-1.3.jar -&gt; <emphasis role="bold"
                                        >REMOVED</emphasis></para>
                            </listitem>
                            <listitem>
                                <para>neethi-2.0.5.jar -&gt; neethi-3.0.2.jar</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">ADDED</emphasis> -&gt;
                                    opensaml-2.5.1-1.jar</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">ADDED</emphasis> -&gt;
                                    openws-1.4.2-1.jar</para>
                            </listitem>
                            <listitem>
                                <para>woodstox-core-asl-4.1.1.jar -&gt;
                                    woodstox-core-asl-4.1.4.jar</para>
                            </listitem>
                            <listitem>
                                <para>xmlsec-1.4.4.jar -&gt; xmlsec-1.5.2.jar</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">ADDED</emphasis> -&gt;
                                    xmltooling-1.3.2-1.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-api-2.3.8.jar -&gt; cxf-api-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-bindings-soap-2.3.8.jar -&gt;
                                    cxf-rt-bindings-soap-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-bindings-xml-2.3.8.jar -&gt;
                                    cxf-rt-bindings-xml-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-core-2.3.8.jar -&gt; cxf-rt-core-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-databinding-aegis-2.3.8.jar -&gt;
                                    cxf-rt-databinding-aegis-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-databinding-jaxb-2.3.8.jar -&gt;
                                    cxf-rt-databinding-jaxb-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-frontend-jaxrs-2.3.8.jar -&gt;
                                    cxf-rt-frontend-jaxrs-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-frontend-jaxws-2.3.8.jar -&gt;
                                    cxf-rt-frontend-jaxws-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-frontend-simple-2.3.8.jar -&gt;
                                    cxf-rt-frontend-simple-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-transports-http-2.3.8.jar -&gt;
                                    cxf-rt-transports-http-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-ws-addr-2.3.8.jar -&gt; cxf-rt-ws-addr-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-ws-security-2.3.8.jar -&gt;
                                    cxf-rt-ws-security-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para><emphasis role="bold">ADDED</emphasis> -&gt;
                                    cxf-rt-ws-policy-2.7.0.jar</para>
                            </listitem>
                            <listitem>
                                <para>cxf-common-schemas-2.3.8.jar -&gt; <emphasis role="bold"
                                        >REMOVED</emphasis></para>
                            </listitem>
                            <listitem>
                                <para>cxf-common-utilities-2.3.8.jar -&gt; <emphasis role="bold"
                                        >REMOVED</emphasis></para>
                            </listitem>
                            <listitem>
                                <para>cxf-rt-transports-common-2.3.8.jar -&gt; <emphasis role="bold"
                                        >REMOVED</emphasis></para>
                            </listitem>
                            <listitem>
                                <para>cxf-tools-common-2.3.8.jar -&gt; <emphasis role="bold"
                                        >REMOVED</emphasis></para>
                            </listitem>
                        </itemizedlist>
                    </para>
                </listitem>
                <listitem>
                    <para>wss4j has been upgraded from 1.5.12 to 1.6.7 (as per above)</para>
                </listitem>
                <listitem>
                    <para>Note that, by default, Apache CXF 2.7.0 depends on jaxb-impl-2.2.5 instead
                        of jaxb-impl-2.2.6. The 2.2.6 version should be explicitly included (or the
                        version forced using the depedencyManagement section of the pom). The reason
                        being that if this is not done then the org.apache.cxf:cxf-java2ws-plugin
                        might fail when running java2ws on JDK 1.7 if you are using @XmlEnum on any
                        of your web service objects in which case you would get an error like the
                        following when the plugin attempts to generate the WSDL:
                        <programlisting>java.lang.ClassCastException: com.sun.xml.bind.v2.model.impl.RuntimeEnumLeafInfoImpl cannot be cast to com.sun.xml.bind.v2.model.impl.ClassInfoImpl</programlisting>
                    </para>
                </listitem>
                <listitem><para>The Logging interceptors now log using service specific categories/loggers
                    instead of just LoggingInInterceptor/LoggingOutInterceptor. The names of the
                    logger that is used is
                    org.apache.cxf.services.ServiceName.PortName.PortTypeName. This allows the user
                    to configure specific per service filters and formatters in their logging
                    configuration. In KSB, these interceptors are added to exported services
                    automatically. Because of that, existing Rice apps might use a log4j setting
                    like the following to prevent SOAP message logging noise: 
                    <programlisting>log4j.logger.org.apache.cxf.interceptor=WARN</programlisting></para>
                    <para>Because of the changes made to CXF, these should be changed to the
                        following:
                    <programlisting>log4j.logger.org.apache.cxf.services=WARN</programlisting>
                </para>
                </listitem>
            </itemizedlist>
        </para>
    </section>        
</article>
