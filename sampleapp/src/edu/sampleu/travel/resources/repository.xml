<?xml version="1.0" encoding="UTF-8"?>
<descriptor-repository version="1.0">

	<descriptor-repository version="1.0">
		<jdbc-connection-descriptor 
			jcd-alias="dataSource"
			default-connection="true" 
			platform="Oracle9i" 
			jdbc-level="3.0"
			useAutoCommit="0">
			<sequence-manager className="org.apache.ojb.broker.util.sequence.SequenceManagerNextValImpl" />
			<object-cache class="org.apache.ojb.broker.cache.ObjectCachePerBrokerImpl" />
		</jdbc-connection-descriptor>
	</descriptor-repository>

	<class-descriptor class="edu.sampleu.travel.document.TravelDocument2" table="TRV_DOC_2">
		<field-descriptor name="documentNumber" column="FDOC_NBR" jdbc-type="VARCHAR" primarykey="true" />
		<field-descriptor name="traveler" column="traveler" jdbc-type="VARCHAR" />
		<field-descriptor name="origin" column="org" jdbc-type="VARCHAR" />
		<field-descriptor name="destination" column="dest" jdbc-type="VARCHAR" />

		<field-descriptor name="versionNumber" column="VER_NBR" jdbc-type="BIGINT" locking="true" />
		<field-descriptor name="objectId" column="OBJ_ID" jdbc-type="VARCHAR" index="true" />
		<field-descriptor name="requestType" column="request_trav" jdbc-type="VARCHAR"></field-descriptor>
		<!--  object references -->
		<reference-descriptor name="documentHeader" class-ref="org.kuali.core.bo.DocumentHeader" auto-retrieve="true" auto-update="object"
			auto-delete="object">
			<foreignkey field-ref="documentNumber" />
		</reference-descriptor>
		<collection-descriptor name="travelAccounts" element-class-ref="edu.sampleu.travel.bo.TravelAccount" auto-retrieve="true" auto-update="false"
			auto-delete="false" indirection-table="TRAV_DOC_2_ACCOUNTS">
			<fk-pointing-to-this-class column="FDOC_NBR" />
			<fk-pointing-to-element-class column="ACCT_NUM" />
		</collection-descriptor>
	</class-descriptor>

	<class-descriptor class="edu.sampleu.travel.bo.TravelAccount" table="TRV_ACCT">
		<field-descriptor name="number" column="acct_num" jdbc-type="VARCHAR" primarykey="true" />
		<field-descriptor name="name" column="acct_name" jdbc-type="VARCHAR" />
		<field-descriptor name="accountType" column="acct_type" jdbc-type="VARCHAR" />
		<field-descriptor name="foId" column="acct_fo_id" jdbc-type="BIGINT" nillable="false" />

		<reference-descriptor name="fiscalOfficer" class-ref="edu.sampleu.travel.bo.FiscalOfficer">
			<foreignkey field-ref="foId" />
		</reference-descriptor>
	</class-descriptor>

	<class-descriptor class="edu.sampleu.travel.bo.FiscalOfficer" table="TRV_ACCT_FO">
		<field-descriptor name="id" column="acct_fo_id" jdbc-type="BIGINT" primarykey="true" autoincrement="true" sequence-name="SEQ_TRAVEL_FO_ID" />
		<field-descriptor name="userName" column="acct_fo_user_name" jdbc-type="VARCHAR" />

		<collection-descriptor name="accounts" element-class-ref="edu.sampleu.travel.bo.TravelAccount">
			<inverse-foreignkey field-ref="foId" />
		</collection-descriptor>
	</class-descriptor>
</descriptor-repository>