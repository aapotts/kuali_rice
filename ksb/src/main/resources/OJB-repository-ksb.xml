<?xml version="1.0" encoding="UTF-8"?>
<descriptor-repository version="1.0">

	<jdbc-connection-descriptor jcd-alias="ksbDataSource" default-connection="false" jdbc-level="3.0" eager-release="false" batch-mode="false"
		useAutoCommit="0" ignoreAutoCommitExceptions="false">
		<sequence-manager className="org.kuali.rice.ojb.ConfigurableSequenceManager">
			<attribute attribute-name="property.prefix" attribute-value="datasource.ojb.sequenceManager" />
		</sequence-manager>
		<object-cache class="org.apache.ojb.broker.cache.ObjectCachePerBrokerImpl" />
	</jdbc-connection-descriptor>

	<class-descriptor class="edu.iu.uis.eden.messaging.PersistedMessage" table="EN_MESSAGE_QUE_T">
		<field-descriptor name="routeQueueId" column="MESSAGE_QUE_ID" jdbc-type="BIGINT" primarykey="true" autoincrement="true"
			sequence-name="SEQ_ROUTE_QUEUE" />
		<field-descriptor name="queuePriority" column="MESSAGE_QUE_PRIO_NBR" jdbc-type="INTEGER" />
		<field-descriptor name="queueStatus" column="MESSAGE_QUE_STAT_CD" jdbc-type="CHAR" />
		<field-descriptor name="queueDate" column="MESSAGE_QUE_DT" jdbc-type="TIMESTAMP" />
		<field-descriptor name="expirationDate" column="MESSAGE_EXP_DT" jdbc-type="TIMESTAMP" />
		<field-descriptor name="retryCount" column="MESSAGE_QUE_RTRY_CNT" jdbc-type="INTEGER" />
		<field-descriptor name="ipNumber" column="MESSAGE_QUE_IP_NBR" jdbc-type="VARCHAR" />
		<field-descriptor name="payload" column="MESSAGE_PAYLOAD" jdbc-type="CLOB" />
		<field-descriptor name="serviceName" column="MESSAGE_SERVICE_NM" jdbc-type="VARCHAR" />
		<field-descriptor name="messageEntity" column="MESSAGE_ENTITY_NM" jdbc-type="VARCHAR" />
		<field-descriptor name="methodName" column="SERVICE_METHOD_NM" jdbc-type="VARCHAR" />
		<field-descriptor name="lockVerNbr" column="DB_LOCK_VER_NBR" jdbc-type="INTEGER" locking="true" />
	</class-descriptor>

	<class-descriptor class="edu.iu.uis.eden.messaging.ServiceInfo" table="EN_SERVICE_DEF_DUEX_T">
		<field-descriptor column="SERVICE_DEF_ID" name="messageEntryId" jdbc-type="BIGINT" primarykey="true" autoincrement="true"
			sequence-name="SERVICE_DEF_SEQ" />
		<field-descriptor column="MESSAGE_ENTITY_NM" name="messageEntity" jdbc-type="VARCHAR" />
		<field-descriptor column="SERVER_IP" name="serverIp" jdbc-type="VARCHAR" />
		<field-descriptor column="SERVICE_URL" name="endpointUrl" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor column="SERVICE_ALIVE" name="alive" jdbc-type="BIT" />
		<field-descriptor column="SERVICE_NM" name="serviceName" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor column="SERVICE_DEFINITION" name="serializedMessageEntity" jdbc-type="CLOB" />
		<field-descriptor column="DB_LOCK_VER_NBR" name="lockVerNbr" jdbc-type="INTEGER" locking="true"></field-descriptor>
	</class-descriptor>

	<class-descriptor class="edu.iu.uis.eden.messaging.bam.BAMTargetEntry" table="EN_BAM_T">
		<field-descriptor name="bamId" column="BAM_ID" jdbc-type="BIGINT" primarykey="true" autoincrement="true" sequence-name="BAM_SEQ" />
		<field-descriptor name="serviceName" column="SERVICE_NM" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="serviceURL" column="SERVICE_URL" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="methodName" column="METHOD_NM" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="threadName" column="THREAD_NM" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="callDate" column="CALL_DT" jdbc-type="TIMESTAMP"></field-descriptor>
		<field-descriptor name="targetToString" column="TARGET_TO_STRING" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="serverInvocation" column="SRVR_IND_IND" jdbc-type="BIT"></field-descriptor>
		<field-descriptor name="exceptionToString" column="EXCEPTION_TO_STRING" jdbc-type="VARCHAR"></field-descriptor>
		<field-descriptor name="exceptionMessage" column="EXCEPTION_MSG" jdbc-type="CLOB"></field-descriptor>
		<collection-descriptor element-class-ref="edu.iu.uis.eden.messaging.bam.BAMParam" name="bamParams" auto-retrieve="true" auto-update="true"
			auto-delete="true">
			<inverse-foreignkey field-ref="bamId" />
		</collection-descriptor>
	</class-descriptor>

	<class-descriptor class="edu.iu.uis.eden.messaging.bam.BAMParam" table="EN_BAM_PARAM_T">
		<field-descriptor name="bamParamId" column="BAM_PARAM_ID" jdbc-type="BIGINT" primarykey="true" autoincrement="true"
			sequence-name="BAM_PARAM_SEQ" />
		<field-descriptor name="bamId" column="BAM_ID" jdbc-type="BIGINT" access="anonymous" />
		<field-descriptor name="param" column="PARAM" jdbc-type="VARCHAR"></field-descriptor>
		<reference-descriptor auto-retrieve="true" auto-update="false" auto-delete="false" class-ref="edu.iu.uis.eden.messaging.bam.BAMTargetEntry"
			name="bamTargetEntry">
			<foreignkey field-ref="bamId" />
		</reference-descriptor>
	</class-descriptor>

</descriptor-repository>